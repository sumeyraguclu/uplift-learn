# ==================== config.yaml ====================
# Central configuration for uplift-learn project

# Project metadata
project:
  name: "uplift-learn"
  version: "1.0.0"
  description: "Production uplift modeling pipeline"

# File paths
paths:
  data_dir: "data"
  results_dir: "results"
  models_dir: "models"
  exports_dir: "exports"
  plots_dir: "plots"
  logs_dir: "logs"
  calibrated_predictions: "results/final_cate.csv"

  
  # Specific files
  rfm_data: "data/x5_rfm_processed.pkl"
  predictions: "results/tlearner_predictions.csv"
  tlearner_model: "models/tlearner_model.pkl"
  calibrator: "models/calibrator.pkl"

# Campaign parameters
campaign:
  # Financial
  margin: 50.0                    # Revenue per conversion (USD)
  contact_cost: 0.50              # Cost per customer contact (USD)
  budget: 10000.0                 # Total campaign budget (USD)
  
  # A/B Testing
  test_split_ratio: 0.20          # Control group size (20%)
  alpha: 0.05                     # Statistical significance level
  power: 0.80                     # Statistical power target
  
  # Targeting
  min_roi: 0.5                    # Minimum ROI threshold (0 = break-even)
  top_k_default: 0.30             # Default top-k percentage

# Model parameters
model:
  random_state: 42
  test_size: 0.20
  
  # XGBoost hyperparameters
  xgboost:
    max_depth: 5
    n_estimators: 100
    learning_rate: 0.1
    subsample: 0.8
    verbosity: 0

# Metrics configuration
metrics:
  qini_bins: 100
  uplift_k_values: [0.1, 0.2, 0.3, 0.5]  # Top 10%, 20%, 30%, 50%
  confidence_level: 0.95

# Calibration settings
calibration:
  method: "isotonic"              # isotonic or platt
  cv_folds: 5
  min_samples_leaf: 10

# Plotting configuration
plotting:
  dpi: 150
  figsize: [10, 6]
  style: "seaborn-v0_8-darkgrid"
  color_palette: ["#2E86AB", "#A23B72", "#F18F01", "#06A77D", "#D62828"]

# Logging configuration
logging:
  level: "INFO"                   # DEBUG, INFO, WARNING, ERROR
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  date_format: "%Y-%m-%d %H:%M:%S"

# Feature engineering
features:
  exclude_columns:
    - "client_id"
    - "target"
    - "treatment"
    - "rfm_segment"
    - "rfm_score"
    - "segment"
    - "r_score"
    - "f_score"
    - "m_score"
  
  scaling: true
  handle_missing: "median"

# Environment-specific overrides
environments:
  development:
    campaign:
      budget: 10000.0
    logging:
      level: "DEBUG"
  
  production:
    campaign:
      budget: 100000.0
    logging:
      level: "WARNING"